=========================================
üîß VARI√ÅVEIS RAILWAY - MEMODROPS BACKEND
=========================================
Gerado em: 2024-12-05

‚ö†Ô∏è  COPIE E COLE AS VARI√ÅVEIS ABAIXO NO RAILWAY

=========================================
üìã OBRIGAT√ìRIAS (Configure TODAS)
=========================================

DATABASE_URL
${{Postgres.DATABASE_URL}}

JWT_SECRET
c2ed9213c1384ef0a72d9762c2715c148a6102df

PORT
8080

NODE_ENV
production

=========================================
‚ú® RECOMENDADAS (Configure se poss√≠vel)
=========================================

ALLOWED_ORIGINS
https://memodrops-dashboard-1bj6g09lt-memo-drops.vercel.app,https://memodrops-dashboard-*.vercel.app,http://localhost:3000,http://localhost:3001

OPENAI_BASE_URL
https://api.openai.com/v1

OPENAI_MODEL
gpt-4o-mini

=========================================
üîë OPCIONAIS (Configure depois)
=========================================

OPENAI_API_KEY
(Sua chave da OpenAI se tiver)

REDIS_URL
(Se quiser habilitar workers com Redis)

ENABLE_WORKERS
true

SENTRY_DSN
(Se quiser monitoramento de erros)

=========================================
üìù INSTRU√á√ïES
=========================================

1. Acesse: https://railway.app/dashboard

2. Abra o projeto MemoDrops

3. Se N√ÉO tiver PostgreSQL:
   - Clique "+ New"
   - Selecione "Database" ‚Üí "PostgreSQL"
   - Aguarde 2 minutos

4. Clique no servi√ßo "backend"

5. V√° na aba "Variables"

6. Clique "+ New Variable"

7. Adicione cada vari√°vel:
   - Cole o "Key" (nome da vari√°vel)
   - Cole o "Value" (valor correspondente)
   - Clique "Add"

8. Aguarde o redeploy autom√°tico (~2 min)

9. Verifique os logs:
   - Aba "Deployments"
   - √öltimo deploy
   - "View Logs"
   - Procure: "Server listening at http://0.0.0.0:8080"

=========================================
‚úÖ CHECKLIST
=========================================

[ ] PostgreSQL criado no Railway
[ ] DATABASE_URL = ${{Postgres.DATABASE_URL}}
[ ] JWT_SECRET = c2ed9213c1384ef0a72d9762c2715c148a6102df
[ ] PORT = 8080
[ ] NODE_ENV = production
[ ] ALLOWED_ORIGINS configurado
[ ] Redeploy conclu√≠do sem erros
[ ] Logs mostram "Server listening"
[ ] Sem erro "getaddrinfo ENOTFOUND host"

=========================================
üö® SOLU√á√ÉO DE PROBLEMAS
=========================================

ERRO: "getaddrinfo ENOTFOUND host"
‚Üí DATABASE_URL n√£o configurada
‚Üí Use: ${{Postgres.DATABASE_URL}} (com chaves duplas)

ERRO: "relation users does not exist"
‚Üí Migrations n√£o executaram
‚Üí Execute: railway run npm run migrate

ERRO: "Invalid JWT_SECRET"
‚Üí JWT_SECRET muito curto
‚Üí Use o gerado acima (40 caracteres)

=========================================
üìñ DOCUMENTA√á√ÉO COMPLETA
=========================================

Consulte estes arquivos para mais detalhes:
- RAILWAY-SETUP-RAPIDO.md
- CONFIGURAR_DATABASE.md

=========================================
üéØ PR√ìXIMO PASSO
=========================================

Ap√≥s configurar tudo, cole os logs aqui
para verificarmos se est√° tudo OK! üöÄ

=========================================
